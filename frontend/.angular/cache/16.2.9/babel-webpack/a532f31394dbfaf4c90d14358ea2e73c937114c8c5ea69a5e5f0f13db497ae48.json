{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Bloqueo } from '../../modelos/bloqueo';\nexport let BloqueosComponent = class BloqueosComponent {\n  constructor(bloqueoServicio) {\n    this.bloqueoServicio = bloqueoServicio;\n    this.pageActual = 1;\n  }\n  getBloqueos() {\n    this.bloqueoServicio.getBloqueos().subscribe(res => {\n      this.bloqueoServicio.bloqueos = res;\n    });\n  }\n  ngOnInit() {\n    this.getBloqueos();\n  }\n  resetForm(form) {\n    if (form) {\n      form.reset();\n      this.bloqueoServicio.selectedBloqueo = new Bloqueo();\n    }\n  }\n  editBloqueo(bloqueo) {\n    this.bloqueoServicio.selectedBloqueo = bloqueo;\n  }\n  deleteBloqueo(_id) {\n    this.bloqueoServicio.deleteBloqueo(_id).subscribe(res => {\n      console.log(res);\n      M.toast({\n        html: 'Cita bloqueada eliminada'\n      });\n      this.getBloqueos();\n    });\n  }\n  onSubmit() {}\n  addBloqueo(form) {\n    if (form.value._id) {\n      this.bloqueoServicio.putBloqueo(form.value).subscribe(res => {\n        console.log(res);\n        M.toast({\n          html: 'Cita bloqueada actualizada'\n        });\n        this.getBloqueos();\n      });\n    } else {\n      this.bloqueoServicio.addBloqueo(form.value).subscribe(res => {\n        console.log(res);\n        M.toast({\n          html: 'Cita bloqueada guardada'\n        });\n        this.getBloqueos();\n      });\n    }\n  }\n};\nBloqueosComponent = __decorate([Component({\n  selector: 'app-bloqueos',\n  templateUrl: './bloqueos.component.html',\n  styleUrls: ['./bloqueos.component.css']\n})], BloqueosComponent);","map":{"version":3,"names":["Component","Bloqueo","BloqueosComponent","constructor","bloqueoServicio","pageActual","getBloqueos","subscribe","res","bloqueos","ngOnInit","resetForm","form","reset","selectedBloqueo","editBloqueo","bloqueo","deleteBloqueo","_id","console","log","M","toast","html","onSubmit","addBloqueo","value","putBloqueo","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/cristinogomezgomez/Documents/CursoMEAN/frontend/src/app/componentes/bloqueos/bloqueos.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, NgForm,ReactiveFormsModule, Validators,FormsModule} from '@angular/forms';\nimport { Validator} from 'mongoose';\nimport { BloqueoService } from '../../servicios/bloqueo.service';\nimport{Bloqueo}from'../../modelos/bloqueo';\n\ndeclare var M:any;\n\n@Component({\n  selector: 'app-bloqueos',\n  templateUrl: './bloqueos.component.html',\n  styleUrls: ['./bloqueos.component.css']\n})\nexport class BloqueosComponent implements OnInit{\n  \n  \n  constructor(public bloqueoServicio:BloqueoService){ \n  };\n\n  pageActual:number=1\n\n  getBloqueos(){\n    this.bloqueoServicio.getBloqueos()\n      .subscribe(res => {\n        this.bloqueoServicio.bloqueos = res as Bloqueo[];\n      })\n  }\n  ngOnInit() {\n    this.getBloqueos();\n  };\n\n  resetForm(form?:NgForm){\n    if(form){\n      form.reset();\n      this.bloqueoServicio.selectedBloqueo=new Bloqueo();\n    }\n  };\n\n  editBloqueo(bloqueo:Bloqueo){\n    this.bloqueoServicio.selectedBloqueo=bloqueo;\n  };\n\n  deleteBloqueo(_id:string){\n    this.bloqueoServicio.deleteBloqueo(_id)\n    .subscribe(res=>{\n      console.log(res)\n      M.toast({html: 'Cita bloqueada eliminada'});\n      this.getBloqueos();\n    })\n\n  };\n\n  onSubmit():void{\n  } \n\n  addBloqueo(form:NgForm)\n  {\n    if(form.value._id)\n    {\n      this.bloqueoServicio.putBloqueo(form.value)\n      .subscribe(res=>{\n        console.log(res)\n        M.toast({html: 'Cita bloqueada actualizada'});\n        this.getBloqueos();     \n      })\n    }\n    else\n    {\n      this.bloqueoServicio.addBloqueo(form.value)\n      .subscribe(res=>{\n        console.log(res)\n        M.toast({html: 'Cita bloqueada guardada'});\n        this.getBloqueos();\n      })\n    }\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAIjD,SAAOC,OAAO,QAAK,uBAAuB;AASnC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAG5BC,YAAmBC,eAA8B;IAA9B,KAAAA,eAAe,GAAfA,eAAe;IAGlC,KAAAC,UAAU,GAAQ,CAAC;EAFnB;EAIAC,WAAWA,CAAA;IACT,IAAI,CAACF,eAAe,CAACE,WAAW,EAAE,CAC/BC,SAAS,CAACC,GAAG,IAAG;MACf,IAAI,CAACJ,eAAe,CAACK,QAAQ,GAAGD,GAAgB;IAClD,CAAC,CAAC;EACN;EACAE,QAAQA,CAAA;IACN,IAAI,CAACJ,WAAW,EAAE;EACpB;EAEAK,SAASA,CAACC,IAAY;IACpB,IAAGA,IAAI,EAAC;MACNA,IAAI,CAACC,KAAK,EAAE;MACZ,IAAI,CAACT,eAAe,CAACU,eAAe,GAAC,IAAIb,OAAO,EAAE;;EAEtD;EAEAc,WAAWA,CAACC,OAAe;IACzB,IAAI,CAACZ,eAAe,CAACU,eAAe,GAACE,OAAO;EAC9C;EAEAC,aAAaA,CAACC,GAAU;IACtB,IAAI,CAACd,eAAe,CAACa,aAAa,CAACC,GAAG,CAAC,CACtCX,SAAS,CAACC,GAAG,IAAE;MACdW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;MAChBa,CAAC,CAACC,KAAK,CAAC;QAACC,IAAI,EAAE;MAA0B,CAAC,CAAC;MAC3C,IAAI,CAACjB,WAAW,EAAE;IACpB,CAAC,CAAC;EAEJ;EAEAkB,QAAQA,CAAA,GACR;EAEAC,UAAUA,CAACb,IAAW;IAEpB,IAAGA,IAAI,CAACc,KAAK,CAACR,GAAG,EACjB;MACE,IAAI,CAACd,eAAe,CAACuB,UAAU,CAACf,IAAI,CAACc,KAAK,CAAC,CAC1CnB,SAAS,CAACC,GAAG,IAAE;QACdW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;QAChBa,CAAC,CAACC,KAAK,CAAC;UAACC,IAAI,EAAE;QAA4B,CAAC,CAAC;QAC7C,IAAI,CAACjB,WAAW,EAAE;MACpB,CAAC,CAAC;KACH,MAED;MACE,IAAI,CAACF,eAAe,CAACqB,UAAU,CAACb,IAAI,CAACc,KAAK,CAAC,CAC1CnB,SAAS,CAACC,GAAG,IAAE;QACdW,OAAO,CAACC,GAAG,CAACZ,GAAG,CAAC;QAChBa,CAAC,CAACC,KAAK,CAAC;UAACC,IAAI,EAAE;QAAyB,CAAC,CAAC;QAC1C,IAAI,CAACjB,WAAW,EAAE;MACpB,CAAC,CAAC;;EAEN;CACD;AA/DYJ,iBAAiB,GAAA0B,UAAA,EAL7B5B,SAAS,CAAC;EACT6B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW7B,iBAAiB,CA+D7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}